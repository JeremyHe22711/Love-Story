<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>可以成为我的恋人吗？</title>
  <style>
    :root{--bg:#ffffff;--accent:#ff7fa2;--muted:#ffb6c1}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:"PingFang SC","Microsoft YaHei",sans-serif;background:var(--bg);color:var(--accent);transition:color .4s ease;}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}
    .card{background:rgba(255,255,255,0.8);border-radius:16px;padding:36px 40px;width:min(720px,96%);box-shadow:0 8px 30px rgba(0,0,0,0.1);text-align:center;transition:color .4s ease;}
    h1{font-size:28px;margin:0 0 20px;letter-spacing:1px;min-height:40px}
    p.lead{color:var(--muted);margin:0 0 28px}

    .top-img{width:100%;height:auto;max-width:640px;border-radius:12px;box-shadow:0 6px 20px rgba(255,182,193,0.6);margin-bottom:24px;}

    .btn-container{position:relative;height:120px;display:flex;align-items:center;justify-content:center;gap:20px}
    .btn{appearance:none;border:0;padding:14px 20px;border-radius:999px;font-weight:700;cursor:pointer;user-select:none;transition:transform .28s cubic-bezier(.2,.9,.3,1), box-shadow .18s, background .3s;}
    .btn-accept{background:var(--accent);color:#fff;font-size:16px;box-shadow:0 8px 24px rgba(255,107,129,0.18)}
    .btn-accept.enlarged{transform:scale(1.28);box-shadow:0 18px 40px rgba(255,107,129,0.28)}
    .btn-reject{position:absolute;left:calc(50% - 140px);top:50%;transform:translateY(-50%);background:#ffa559;color:#fff;font-size:15px;box-shadow:0 6px 18px rgba(3,8,18,0.2)}

    .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.4);backdrop-filter:blur(4px);opacity:0;pointer-events:none;transition:opacity .18s}
    .modal.show{opacity:1;pointer-events:auto}
    .modal-card{background:var(--accent);padding:28px 40px;border-radius:12px;min-width:280px;max-width:90%;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.2)}
    .modal-card h2{margin:0 0 8px;color:#fff;font-size:22px;display:inline-block;animation:none}
    .modal-card p{margin:6px 0 14px;color:#fff;}
    .close{margin-top:12px;padding:8px 14px;border-radius:999px;border:0;background:transparent;color:#fff;cursor:pointer}

    @keyframes heartbeat {
      0% { transform: scale(1); }
      25% { transform: scale(1.2); }
      50% { transform: scale(0.95); }
      75% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }
    .heartbeat {
      animation: heartbeat 0.6s ease-in-out 2;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <img src="40a8ae23-f237-41fd-adc3-91359c83af71.jpg" alt="photo" class="top-img">
      <h1 id="mainText">可以成为我的恋人吗</h1>
      <p class="lead">勇气只需按下一个按钮 —— 选择决定故事的开始。</p>

      <div class="btn-container" id="btnContainer">
        <button class="btn btn-accept" id="accept">当然可以</button>
        <button class="btn btn-reject" id="reject">再想想</button>
      </div>
    </div>
  </div>

  <div class="modal" id="modal">
    <div class="modal-card">
      <h2 id="modalTitle">这是我们故事的开始</h2>
      <p id="timeText"></p>
      <button class="close" id="closeBtn">关闭</button>
    </div>
  </div>

  <script>
    const rejectBtn = document.getElementById('reject');
    const acceptBtn = document.getElementById('accept');
    const container = document.getElementById('btnContainer');
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modalTitle');
    const timeText = document.getElementById('timeText');
    const closeBtn = document.getElementById('closeBtn');
    const mainText = document.getElementById('mainText');

    let rejectCount = 0;

    const rejectTexts = ['可以成为我的恋人吗','再想想好不好','真的不可以吗','我还会等你的回答','或许我们可以重新开始','你确定不想试试吗','别走，再看看我'];
    const rejectBtnTexts = ['再想想','真的不可以吗','考虑一下？','还没决定呢','再犹豫一下','我再问一次','确定吗？'];

    function randInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}
    function moveReject(){
      const cRect = container.getBoundingClientRect();
      const bRect = rejectBtn.getBoundingClientRect();
      const padding = 8;
      const maxX = Math.max(0, cRect.width - bRect.width - padding*2);
      const maxY = Math.max(0, cRect.height - bRect.height - padding*2);
      const x = randInt( -maxX/2, maxX/2 );
      const y = randInt( -maxY/2, maxY/2 );
      rejectBtn.style.transition = 'transform .35s cubic-bezier(.2,.9,.3,1)';
      rejectBtn.style.transform = `translate(${x}px, ${y}px)`;
    }

    rejectBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      rejectCount++;
      if(rejectCount < 8){
        mainText.textContent = rejectTexts[Math.min(rejectCount-1, rejectTexts.length-1)];
        rejectBtn.textContent = rejectBtnTexts[Math.min(rejectCount-1, rejectBtnTexts.length-1)];
        moveReject();
      } else {
        rejectBtn.remove();
        acceptBtn.style.position = 'relative';
        acceptBtn.style.left = '0';
        acceptBtn.style.margin = '0 auto';
      }
    });

    rejectBtn.addEventListener('mouseenter', ()=>{ if(rejectCount < 8) moveReject(); });

    acceptBtn.addEventListener('click', ()=>{
      acceptBtn.classList.add('enlarged');
      setTimeout(()=> acceptBtn.classList.remove('enlarged'), 1200);

      modalTitle.textContent = '太好了 ovo ---- ❤️';
      modalTitle.classList.add('heartbeat');
      timeText.textContent = '';
      modal.classList.add('show');

      setTimeout(()=>{
        modalTitle.classList.remove('heartbeat');
        modalTitle.textContent = '这是我们故事的开始';
        const now = new Date();
        const pad = n => String(n).padStart(2,'0');
        const formatted = `${now.getFullYear()}-${pad(now.getMonth()+1)}-${pad(now.getDate())} ${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(now.getSeconds())}`;
        timeText.textContent = formatted;
      },2000);
    });

    closeBtn.addEventListener('click', ()=> modal.classList.remove('show'));
    modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.classList.remove('show'); });
  </script>
</body>
</html>
